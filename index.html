<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./global.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js" charset="utf-8"></script>
  <title>#ASCII_ART</title>
</head>
  <body>
    <div id="console">
      <div id="ref">
        <a target="_blank" href="http://peterjespersen.com">
          <img src="https://piijt.github.io/Animations//img/14-colored.png" alt="peterjespersen">
          @author --piijt
        </a>
      </div>
      <p id="description" class="blue"></p>
      <p id="generic" class="blue"></p>
      <pre id="code" class="blue"></pre>
      <input id="value" type="text">
    </div>
    <p id="demo"></p>

    <script type="text/javascript">
      const APIKeys = {
        emoji: '3460cc40a4569c45d58c5921c62bc0ff5273530f',
        wordnik: '',
        nasa: '',
      }

      async function __requestImageFromHTTP(url) {
        // const theLemon = await axios.get(url);
        // const lemonImg = document.createElement('img');
        // const src = lemonImg
        // const res = lemonImg.src = theLemon.config.url

        const theReq = await axios.get(url);
        const img_atribute = document.createElement('img');
        const src = img_atribute
        const res = img_atribute.src = theReq.config.url
        queryThenAppend('#code', src);
      }

      const log = console.log;
      const env_description = 'Fully functional operation system since 1995 (c) all rights reserved @piijt';
      const user = 'C://piijt/virtual-environment>';
      let query = (foo) => {
        log(foo)
        return document.querySelector(foo)
      }
      let queryThenAppend = (foo, bar) => {
        return document.querySelector(foo).append(bar);
      }
       queryThenAppend('#description', env_description);
       queryThenAppend('#generic', user);
       const write = query('#value')
       // let x = document.getElementById("demo");
       //
       // write.addEventListener('onClick', function(e) {
       //   log('hello')
       // };
       const commands = [
         'useragent',
         'language',
         'color',
         'green',
         'red',
         'reset color',
         'time',
         'lemon',
         'linux',
       ];
       let dangerouslyInjectHTML = (foo, bar) => {
         return document.querySelector(foo).append(bar);
       }

       write.addEventListener("change", displayData);
       // ADD LINE BREAK AFTER EACH COMMAND
       function displayData(e) {
         log(e.target)
         log(e.target.value)
         const br = document.createElement('br');
         dangerouslyInjectHTML('#code', e.target.value + '\n');

         if(e.target.value === '--green') { // #1
           changeColor('green')
         }
         if(e.target.value === '--red') { // #2
           changeColor('red')
         }
         if(e.target.value === 'wtf') { // #3
          dangerouslyInjectHTML('#code', '{[-.-]}');
         }
         if(e.target.value === '--reset color') { // #4
            changeColor('reset color')
         }
        if(e.target.value === '--platform') { // #5
          dangerouslyInjectHTML('#code', ': ' + CI.platform + '\n');
        }
        if(e.target.value === '--language') { // #6
          dangerouslyInjectHTML('#code', 'languages detected: ' + CI.lang.languages + '\n');
        }
        if(e.target.value === '--useragent') { // #7
          dangerouslyInjectHTML('#code', CI.userAgent);
        }
        if(e.target.value === '--help') {
          dangerouslyInjectHTML('#code', 'this is a list of commands: ');
          for(const cmd of commands) {
            dangerouslyInjectHTML('#code', '--'+ cmd);
          }
        }
        if(e.target.value === '--time') {
            displayTime();
        }
        if(e.target.value === '--lemon') {
          __requestImageFromHTTP('https://api.nuget.org/v3-flatcontainer/lemon.runtime.loader/1.0.0/icon');
        }
        if(e.target.value === '--linux') {
          __requestImageFromHTTP('https://dashboard.snapcraft.io/site_media/appmedia/2018/04/linuxtycoon.png');
        }
        if(e.target.value === '--ascii') {
          const ASCII = [
            '#',
            '##',
            '###',
          ];
          for(const a of ASCII){
            dangerouslyInjectHTML('#code', a);
          }
        }
        if(e.target.value === '--color') {
          dangerouslyInjectHTML('#code', 'colors that are available: ');
          const colors = ['red', 'green', 'blue']
          for(const color of colors) {
            dangerouslyInjectHTML('#code', '--' + color)
          }
        }
       }

       const displayTime = () => {
         let d = new Date();
         let s = d.getSeconds();
         let m = d.getMinutes();
         let h = d.getHours();
         const time = h + ":" + m + ":" + s;
         dangerouslyInjectHTML('#code', time);
       }
       // check for valid commands
       function parseInput() {

       }
       let x = window.clientInformation
       const CI = {
         appCodeName: x.appCodeName,
         appVersion: x.appVersion,
         bluetooth: x.bluetooth,
         connection: x.connection,
         geo: x.geolocation,
         platform: x.platform,
         lang: {
           language: x.language,
           languages: x.languages,
         },
         userAgent: x.userAgent
       }

       async function changeColor (color) {
         const description = query('#description');
         const generic = query('#generic');
         const code = query('#code')
          if(color === 'reset color') {
            description.classList.remove('green', 'red');
            description.classList.add('blue')

            generic.classList.remove('green', 'red');
            generic.classList.add('blue');

            code.classList.remove('green', 'red');
            code.classList.add('blue')
          }
          if(color === 'green') {
            description.classList.remove('blue', 'green', 'red');
            description.classList.add('green')

            generic.classList.remove('blue', 'green', 'red');
            generic.classList.add('green');

            code.classList.remove('blue', 'green', 'red');
            code.classList.add('green')
          }
          if(color === 'red') {
            description.classList.remove('blue', 'green', 'red');
            description.classList.add('red')

            generic.classList.remove('blue', 'green', 'red');
            generic.classList.add('red');

            code.classList.remove('blue', 'green', 'red');
            code.classList.add('red')
          }
       }
    </script>
  </body>
</html>
